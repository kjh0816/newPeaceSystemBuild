<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{usr/layout/default}">
<head>
    <title>운구차량 출동</title>
    <th:block layout:fragment="js">
        <script type="text/javascript" src="/resource/director/selectCoffinTransporter.js" charset="utf-8"
                defer></script>
    </th:block>
</head>
<main layout:fragment="main">
    <div class="p-10 card bg-base-200">
        <div class="flex flex-col w-full">
            <div class="card card-side shadow my-2 bg-white">
                <div class="card-body">
                    <h2 class="card-title">고인 정보</h2>
                    <div class="flex items-center mb-1">
                        <div class="badge badge-md">상주 성함</div>
                        <p class="pl-2">[[${chief.name}]]</p>
                    </div>
                    <div class="flex items-center mb-1">
                        <div class="badge badge-md">상주 연락처</div>
                        <p class="pl-2">[[${clientCellphoneNo}]]</p>
                    </div>
                </div>
            </div>
        </div>
        <form onsubmit="selectCoffinTransporter__submit(this); return false;">
            <input type="hidden" name="funeralId" th:value="${funeral.id}">
            <div class="flex flex-col w-full">
                <div class="card card-side shadow my-2 bg-white">
                    <div class="card-body">
                        <h2 class="card-title">운구차량</h2>
                        <div class="flex items-center mb-1">
                            <div class="badge badge-md">비용</div>
                            <p class="pl-2" th:text="|70,000 원|"></p>
                        </div>
                        <label class="label">
                        <span class="label-text font-bold">
                            운구차량 출동 장소
                        </span>
                        </label>
                        <div class="flex">
                            <input readonly="readonly" type="text" id="departureAddress" name="departureAddress"
                                   placeholder="오른쪽 버튼을 통해 주소를 검색해주세요."
                                   class="py-2 px-4 mr-2 w-full text-sm bg-base-200 rounded-lg"/>
                            <button type="button" onclick="goPopup(1);" class="btn btn-outline w-20 whitespace-nowrap">
                                주소 검색
                            </button>
                        </div>

                        <br>
                        <br>

                        <label class="label">
                        <span class="label-text font-bold">
                            운구차량 도착 장소
                        </span>
                        </label>

                        <ul class="menu items-stretch px-3 shadow-lg bg-base-100 horizontal rounded-box font-bold w-3/12">
                            <li id="funeralInput" class="border-b-4">
                                <a>
                                    장례식장
                                </a>
                            </li>
                            <li>
                                <a id="addrInput">
                                    직접입력
                                </a>
                            </li>
                        </ul>

                        <div id="funeralTab" class="flex flex-col">
                             <select id="department" name="department"
                                    class="select select-bordered select-sm w-full max-w-xs">
                                <option value="" disabled selected>시/도</option>
                                <div th:each="department : ${departments}" th:object="${department}">
                                    <option th:value="*{departmentName}" th:text="*{departmentName}"></option>
                                </div>
                            </select>

                            <select id="departmentDetail" name="departmentDetail"
                                    class="select select-bordered select-sm w-full max-w-xs">
                                <option value="" disabled selected>시/군/구</option>
                            </select>

                            <select id="funeralHallName" name="funeralHallName"
                                    class="select select-bordered select-sm w-full max-w-xs">
                                <option value="" disabled selected>장례식장</option>
                            </select>

                            <br>
                            <div class="flex items-center mb-1" id="funeralHallNum">

                            </div>
                        </div>


                        <div id="addrTab" class="flex hidden">
                            <input readonly="readonly" type="text" id="destinationAddress" name="destinationAddress"
                                   placeholder="오른쪽 버튼을 통해 주소를 검색해주세요."
                                   class="py-2 px-4 mr-2 w-full text-sm bg-base-200 rounded-lg"/>
                            <button type="button" onclick="goPopup(2);" class="btn btn-outline w-20 whitespace-nowrap">
                                주소 검색
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <input class="btn btn-ghost w-full" type="submit" value="출동 요청">
        </form>
    </div>
</main>

</html>